---
import Layout from '../../layouts/Layout.astro';
import { Image } from 'astro:assets';
import { getLangFromUrl, useTranslations } from '../../i18n/utils';
import { languages } from '../../i18n/ui';

export function getStaticPaths() {
  return Object.keys(languages).map((lang) => ({ params: { lang } }));
}

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

type MemberRole = 'members.roles.president' | 'members.roles.vice_president' | 'members.roles.manager' | 'members.roles.treasurer' | 'members.roles.member';

interface Member {
  name: string;
  role: MemberRole;
  image: string;
}

const members: Member[] = [
  {
    name: 'Tiago',
    role: 'members.roles.president',
    image: 'https://utfs.io/f/c6DyH2jvBDjOOPoi0IW8amfV9sorMRPdQgpeKXzLiIjS3U2k',
  },
  {
    name: 'Lorenzo',
    role: 'members.roles.vice_president',
    image: 'https://utfs.io/f/rPa8pyc4JUojgEfjBBrZSWqJyQ0o31auVIRXGbic7kxA42wz',
  },
  {
    name: 'Claudio',
    role: 'members.roles.manager',
    image: 'https://utfs.io/f/c6DyH2jvBDjOxHyIH5jh6iSNXdYwP73qDrjEFbvJu8zhABfG',
  },
  {
    name: 'Paolla',
    role: 'members.roles.manager',
    image: 'https://utfs.io/f/c6DyH2jvBDjO4QzxVKlxUXg2meZniJrV8QLH1hjbTptlFMas',
  },
  {
    name: 'Gustavo',
    role: 'members.roles.manager',
    image: 'https://utfs.io/f/c6DyH2jvBDjOMK8M7kwBAzaYeUBLETpHuSr7oW4F6jwdQhIs',
  },
  {
    name: 'Otávio',
    role: 'members.roles.treasurer',
    image: 'https://utfs.io/f/c6DyH2jvBDjOWhLUeQp3ItKsfGm42SEi8CYwDTlca9JPeONB',
  },
  {
    name: 'Dan',
    role: 'members.roles.member',
    image: 'https://utfs.io/f/c6DyH2jvBDjOJRDr0batkAQWh24S9ImJpfseqDiuaFjPMyEO',
  },
  {
    name: 'Abner',
    role: 'members.roles.member',
    image: 'https://utfs.io/f/c6DyH2jvBDjOn2x4JfHu8Q0fImlPxY3vqC1ByAEKaze4d5Ti',
  },
  {
    name: 'Vinicio',
    role: 'members.roles.member',
    image: 'https://utfs.io/f/c6DyH2jvBDjOQDVSUkTYfAyh6SDmKFGOW058oneHzIjs3vL2',
  },
  {
    name: 'Henrique',
    role: 'members.roles.member',
    image: 'https://utfs.io/f/c6DyH2jvBDjOjKyFuvqFbJf0S8dMXYQy2CH3kBsDwhR64t7x',
  },
  {
    name: 'Turina',
    role: 'members.roles.member',
    image: 'https://utfs.io/f/c6DyH2jvBDjOA5MfpciMo4ZRYNEimSW9lt2jOpB6xfXTd7zu',
  },
  {
    name: 'Gustavo Oliveira',
    role: 'members.roles.member',
    image: 'https://utfs.io/f/rPa8pyc4JUojBvUAhMPg9VzIOnuMkUpqxwDiEWeGXftjdcSH',
  },
  {
    name: 'Joao Vitor',
    role: 'members.roles.member',
    image: 'https://utfs.io/f/rPa8pyc4JUojBV1CHKdPg9VzIOnuMkUpqxwDiEWeGXftjdcS',
  },
  {
    name: 'Julia',
    role: 'members.roles.member',
    image: 'https://utfs.io/f/rPa8pyc4JUojrnk0ZRc4JUojfxkXpc0BaH5E9lwRS7uLqVAv',
  },
  {
    name: 'Victor',
    role: 'members.roles.member',
    image: 'https://utfs.io/f/rPa8pyc4JUoj4gqQqBx2o0iCrHRZPI6nzlcLk1wJpybmueTA',
  },
  {
    name: 'Yuri',
    role: 'members.roles.member',
    image: 'https://utfs.io/f/rPa8pyc4JUojFXtqvu6QMRIBKitWyghSOHVNYJDfLr0vd9AZ',
  },
  {
    name: 'Lucas',
    role: 'members.roles.member',
    image: 'https://utfs.io/f/rPa8pyc4JUojE0NPg6ddUmhugpIfQFKH17WnGizcTP5sA403',
  },
  {
    name: 'João Saraiva',
    role: 'members.roles.member',
    image: 'https://utfs.io/f/rPa8pyc4JUojqnNLc6tSbw0UteHsvAIRpl35LBjnXFzfhrkZ',
  },
  {
    name: 'Pedro Goularte',
    role: 'members.roles.member',
    image: 'https://utfs.io/f/rPa8pyc4JUojJpw7Due3xtRQg4Ycf2aSsWUupEb18HOL6PK5',
  },
];
---

<Layout title={t('members.title')}>
  <main class="min-h-screen bg-background transition-colors duration-300">
    <div class="container mx-auto px-4 py-16">
      <h1 class="text-4xl md:text-6xl font-bold text-center mb-8 text-text">
        {t('members.title')}
      </h1>
      <p class="text-xl text-center max-w-2xl mx-auto mb-16 text-text-muted">
        {t('members.subtitle')}
      </p>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {members.map((member) => (
          <div class="bg-primary/50 rounded-lg p-6 text-center backdrop-blur-sm border border-accent/10 hover:border-accent/30 transition-all duration-300">
            <div class="w-32 h-32 mx-auto mb-4 rounded-full bg-accent/5 p-1 overflow-hidden relative">
              <Image
                src={member.image}
                alt={`${member.name} - ${t(member.role)}`}
                width={128}
                height={128}
                class="absolute inset-0 w-full h-full object-cover rounded-full"
              />
            </div>
            <h3 class="text-xl font-bold mb-2 text-text">{member.name}</h3>
            <p class="text-text-muted">{t(member.role)}</p>
          </div>
        ))}
      </div>
    </div>
  </main>
</Layout>
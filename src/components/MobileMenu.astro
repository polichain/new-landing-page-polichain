---
import { getLangFromUrl, useTranslations, useTranslatedPath } from '../i18n/utils';
import LanguageSelector from './LanguageSelector.astro';

interface Props {
  lang: string;
}

const { lang } = Astro.props;
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);
---

<div id="mobile-menu" class="md:hidden hidden pb-6">
  <div class="flex flex-col space-y-4">
    <a href={translatePath('/')} class="text-text hover:text-accent monospace px-2 py-1 rounded-lg hover:bg-accent/5">{t('nav.home')}</a>
    <a href={translatePath('/members')} class="text-text hover:text-accent monospace px-2 py-1 rounded-lg hover:bg-accent/5">{t('nav.members')}</a>
    <a href={translatePath('/blog')} class="text-text hover:text-accent monospace px-2 py-1 rounded-lg hover:bg-accent/5">{t('nav.blog')}</a>
    <a href={translatePath('/about')} class="text-text hover:text-accent monospace px-2 py-1 rounded-lg hover:bg-accent/5">{t('nav.about')}</a>
    <div class="pt-2">
      <LanguageSelector currentLang={lang} />
    </div>
  </div>
</div>

<style>
  #mobile-menu {
    animation: slideDown 0.2s ease-out;
  }

  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>